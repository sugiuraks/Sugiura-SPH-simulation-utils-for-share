readme.txt 2021/7/20 杉浦圭祐
杉浦SPHコード用の初期条件作成手順です。
初期条件を作成するそれぞれのプログラムの詳しい説明や使い方は,
プログラムの頭に記載してあります.

元となる初期条件ファイルは
FDPS-basalt-box-R=50km-N=50000-after-relaxation-original-cgs.bin (cgs単位系)
もしくは
FDPS-basalt-box-R=50km-N=50000-after-relaxation-original-mks.bin (mks単位系)
です。
これらのファイルは, 一辺が100kmの箱の中に, 多少乱雑だが密度は一様になるような配置で粒子を詰めたもので,
原点を中心として半径50kmの球内の粒子を残すと粒子数がだいたい5万になるような初期条件ファイルです。

---作りたい初期条件に応じて実行する必要があるかもしれないプログラムたち-------------------------------------
0.1. convert-from-cgs-to-mks.c:
上記で述べた
cgs単位系のファイル (e.g., FDPS-basalt-box-R=50km-N=50000-after-relaxation-original-cgs.bin)
を
mks単位系のファイル (e.g., FDPS-basalt-box-R=50km-N=50000-after-relaxation-original-mks.bin)
に変換するプログラムです.

0.2. make-different-resolution-from-relaxed-condition.c:
冒頭で説明した箱状の初期条件ファイルを, 適切に拡大縮小することで,
同じ半径50kmでくり抜いても粒子数(resolution)が違うような箱を準備するプログラムです.

0.3. make-different-scale-from-relaxed-condition.c
冒頭で説明した箱状の初期条件ファイルを, 適切に拡大縮小することで,
粒子数を変えないでスケールだけを変えるようなプログラムです.
----------------------------------------------------------------------------------------------

---手順1: 箱状の初期条件ファイルを球状にくり抜く-------------------------------------------------------
1.1 make-sphere-from-relaxed-condition.c:
0. に記した下処理を施した箱状の初期条件ファイルを, 球状にくり抜くことで, 球の初期条件ファイルを作るプログラム.
適切な半径を与えることで, ターゲットもインパクタも両方ともこのプログラムで作成します.

1.2 make-sphere-from-relaxed-condition-for-ANEOS.c
ANEOSテーブルEoSを使用する場合は, 与えたい温度に対して初期に圧力が0になる密度と内部エネルギーが不明なため,
そうなる密度と内部エネルギーを線形補間にて自動的に与えた上で, 球状にくり抜くのがこのプログラムです.
ただし, あくまでも線形補間なので, 厳密に圧力が0になる密度と内部エネルギーを求められるわけではなく,
温度によっては大きな圧力が発生してしまう可能性もあります.
----------------------------------------------------------------------------------------------

---手順2: 球状にくり抜いた初期条件ファイル2つに異なる初期位置・速度を与えて衝突の初期条件を作る------------------
2. make-impact-condition-from-two-spheres.c
1. に記したプログラムで作成した2つの球状の初期条件ファイルに, 適切な位置のずれと相対速度を加えることで,
適切な衝突角度と衝突速度になるような衝突の初期条件を作成するプログラムです.
----------------------------------------------------------------------------------------------